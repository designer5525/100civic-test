<style>
    :root {
        --primary-color: #5856D6;
        --bg-color: #F2F2F7;
        --text-main: #000000;
        --text-sub: #8E8E93;
        --white: #FFFFFF;
    }

    /* 關鍵點 1：徹底解鎖全局捲動 */
    html {
        height: 100%;
        overflow: hidden; /* 防止雙重捲動條 */
    }

    body {
        margin: 0;
        padding: 0;
        height: 100%; /* 固定高度 */
        overflow-y: auto; /* 在 body 層級捲動 */
        -webkit-overflow-scrolling: touch; 
        background-color: var(--bg-color);
        display: block; /* 取消 flex，改用傳統佈局以支持自然捲動 */
    }

    * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }

    .hidden { display: none !important; }

    /* 關鍵點 2：屏幕容器優化 */
    #home-screen, #quiz-screen, #practice-screen, #glossary-menu-screen {
        width: 100%;
        min-height: 100.1%; /* 稍微超過 100% 強制啟動彈性捲動 */
        display: flex;
        flex-direction: column;
        align-items: center;
        padding: 40px 20px 280px 20px; /* 底部預留極大空間給 Fixed 按鈕區 */
        box-sizing: border-box;
    }

    /* 關鍵點 3：卡片內滾動與寬度限制 */
    .question-box {
        background: var(--white);
        width: 100%;
        max-width: 500px;
        margin: 20px 0;
        padding: 25px;
        border-radius: 20px;
        border: 1px solid #79abe1;
        box-shadow: 0 10px 30px rgba(163, 187, 255, 0.3);
        
        /* 卡片內部捲動邏輯 */
        flex-shrink: 0; /* 禁止被 flex 壓縮 */
        max-height: 35vh; /* 限制高度，超過則內部捲動 */
        overflow-y: auto; 
        -webkit-overflow-scrolling: touch;
    }

    /* 關鍵點 4：固定控制區防干擾 */
    .controls-area {
        position: fixed;
        bottom: 0;
        left: 0;
        right: 0;
        z-index: 1000;
        /* 使用漸變背景，確保按鈕下方內容被遮蓋但上方有過渡 */
        background: linear-gradient(to top, var(--bg-color) 85%, rgba(242,242,247,0));
        padding: 10px 20px 40px 20px;
        display: flex;
        flex-direction: column;
        align-items: center;
        /* 避免這個固定區域擋住背景滑動，設定 pointer-events: none */
        pointer-events: none; 
    }

    /* 確保按鈕本身可以點擊 */
    .controls-area .btn, .controls-area .quiz-main-btn, .controls-area .judge-group {
        pointer-events: auto;
    }

    /* 關鍵點 5：底部動作區（退出/重來） */
    /* 這些按鈕應該跟隨頁面捲動，不要固定，否則會重疊 */
    .bottom-actions {
        display: flex;
        justify-content: space-between;
        width: 100%;
        max-width: 500px;
        margin-top: 20px;
        padding-bottom: 20px;
    }

    /* 其他 UI 樣式維持原樣 */
    .officer-avatar {
        width: 80px; height: 80px; font-size: 45px;
        border-radius: 50%; border: 3px solid var(--primary-color);
        display: flex; align-items: center; justify-content: center;
        background: #d8d8ff; margin: 10px 0; flex-shrink: 0;
    }
    
    .dot { width: 14px; height: 14px; border-radius: 50%; border: 1.5px solid #BCBCBC; }
    .dot.current { border: 2px solid #000; }
    
    .quiz-main-btn {
        width: 100%; max-width: 500px; height: 55px; border-radius: 100px;
        background: #4A90E2 !important; color: white !important;
        font-size: 20px; font-weight: bold;
    }
</style>
